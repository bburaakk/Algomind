#:kivy 2.1.0
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import Clock kivy.clock.Clock

<TestScreen>:
    name: 'test_screen'

    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: get_color_from_hex('#F0F2F5') # Açık gri arka plan
        padding: dp(20)
        spacing: dp(15)

        # Üst Bar
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(60)
            spacing: dp(15)
            adaptive_height: True

            MDCard:
                md_bg_color: get_color_from_hex('#FFFFFF')
                radius: [dp(15),]
                padding: dp(10)
                MDLabel:
                    text: root.student_name
                    halign: 'center'
                    font_style: 'H6'
                    theme_text_color: 'Primary'

            MDCard:
                md_bg_color: get_color_from_hex('#FFFFFF')
                radius: [dp(15),]
                padding: dp(10)
                MDLabel:
                    text: root.formatted_time
                    halign: 'center'
                    font_style: 'H6'
                    theme_text_color: 'Primary'

        # Soru Sayacı
        MDLabel:
            id: question_counter
            text: root.question_counter_text
            halign: 'center'
            font_style: 'Body1'
            size_hint_y: None
            height: self.texture_size[1]
            theme_text_color: 'Secondary'


        # Ana İçerik Kartı
        MDCard:
            orientation: 'vertical'
            size_hint: 1, 1
            md_bg_color: get_color_from_hex('#FFFFFF')
            radius: [dp(20),]
            padding: dp(20)
            spacing: dp(15)

            # Soru Metni
            MDLabel:
                id: question_text_label
                text: root.question_text
                halign: 'center'
                font_style: 'H5'
                size_hint_y: None
                height: self.texture_size[1]
                theme_text_color: 'Primary'

            # Resim/Soru İçerik Alanı
            MDBoxLayout:
                id: image_area
                size_hint_y: 0.6
                padding: dp(10)

            # Seçenekler Alanı
            MDBoxLayout:
                id: options_area
                orientation: 'horizontal'
                # Yalnızca çocukların ihtiyaç duyduğu kadar yer kapla
                size_hint: (None, None)
                # Genişliği ve yüksekliği çocuklara göre ayarla
                width: self.minimum_width
                height: self.minimum_height
                # Ebeveynin ortasına hizala
                pos_hint: {'center_x': 0.5}
                spacing: dp(20) # Butonlar arası boşluk

                # --- TEST BUTONLARI ---
                MDRaisedButton:
                    text: "Seçenek A"
                MDRaisedButton:
                    text: "Seçenek B"
                # --- TEST BUTONLARI SONU ---


