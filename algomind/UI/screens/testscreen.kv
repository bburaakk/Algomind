# testscreen.kv (Elmanın arkasındaki çerçeve kaldırıldı)

#:import get_color_from_hex kivy.utils.get_color_from_hex

#--- Özel Buton Stilimiz ---
<WobblyButton@Button>:
    font_name: 'algomind/assets/GochiHand-Regular.ttf'
    font_size: '22sp'
    color: (1, 1, 1, 1)
    size_hint: (0.45, None)
    height: dp(60)
    background_normal: ''
    background_down: ''
    background_color: get_color_from_hex('#4990e2') if self.state == 'normal' else get_color_from_hex('#407dbf')

    canvas.after:
        Color:
            rgba: (1, 1, 1, 1)
        Line:
            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(15))
            width: 1.5

#--- Özel Etiket Stilimiz ---
<WobblyLabel@Label>:
    font_name: 'algomind/assets/GochiHand-Regular.ttf'
    font_size: '22sp'
    color: (1, 1, 1, 1)
    size_hint: (0.45, None)
    height: dp(60)

    canvas.before:
        Color:
            rgba: get_color_from_hex('#4990e2')
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(15)]
    canvas.after:
        Color:
            rgba: (1, 1, 1, 1)
        Line:
            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(15))
            width: 1.5

#--- Test Ekranı Tanımı ---
<TestScreen>:
    canvas.before:
        Color:
            rgba: get_color_from_hex('#4990e2')
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: dp(15)
        spacing: dp(10)
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(70)
            spacing: dp(10)
            WobblyLabel:
                text: 'Ali'
            WobblyLabel:
                text: root.formatted_time
        RelativeLayout:
            size_hint_y: 0.8

            Image:
                id: apple_image
                source: 'assets/apple.png'
                size_hint: (0.6, 0.6)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                allow_stretch: True
                # DEĞİŞİKLİK: Elmanın arkasındaki çerçeveyi çizen canvas.after bloğu kaldırıldı.

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(70)
            spacing: dp(10)
            WobblyButton:
                text: 'Elma'
            WobblyButton:
                text: 'Armut'

        RelativeLayout:
            size_hint_y: None
            height: dp(70)
            WobblyButton:
                text: 'Testi Bitir'
                pos_hint: {'center_x': 0.5}
                on_release: app.root.current = 'rapor_ekrani'
